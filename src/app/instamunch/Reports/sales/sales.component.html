<div class="app-main__outer">
  <div class="app-main__inner">
    <div class="app-page-title">
      <div class="page-title-wrapper">
        <div class="page-title-heading">
          <div class="page-title-icon">
            <i class="icofont-dashboard-web ">
            </i>
          </div>
          <div> Sales Report
            <div class="page-title-subheading">Overall sale Statistics
            </div>
          </div>
        </div>
        <div class="page-title-actions">

          <div class="d-inline-block dropdown">
            <button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"
              class="btn-shadow dropdown-toggle btn btn-info">
              <span class="btn-icon-wrapper pr-2 opacity-7">
                <i class="fa fa-star fa-w-20"></i>
              </span>
              Today
            </button>
            <div tabindex="-1" role="menu" aria-hidden="true" class="dropdown-menu dropdown-menu-right">
              <ul class="nav flex-column">
                <li class="nav-item">
                  <a href="javascript:void(0);" class="nav-link">
                    <i class="nav-link-icon lnr-inbox"></i>
                    <span>
                      Today
                    </span>

                  </a>
                </li>
                <li class="nav-item">
                  <a href="javascript:void(0);" class="nav-link">
                    <i class="nav-link-icon lnr-book"></i>
                    <span>
                      This Weeks
                    </span>

                  </a>
                </li>

              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>



    <div class="row">
      <div class="col-md-6 col-xl-4">
        <div class="card mb-3 widget-content bg-midnight-bloom">
          <div class="widget-content-wrapper text-white">
            <div class="widget-content-left">
              <div class="widget-heading">Total Orders</div>
              <div class="widget-subheading">All menu items</div>
            </div>
            <div class="widget-content-right">
              <div class="widget-numbers text-white"><span>{{sales_report.overall_summary?.total_orders}}</span></div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-xl-4">
        <div class="card mb-3 widget-content bg-arielle-smile">
          <div class="widget-content-wrapper text-white">
            <div class="widget-content-left">
              <div class="widget-heading">Total Revenue</div>
              <div class="widget-subheading">All orders</div>
            </div>
            <div class="widget-content-right">
              <div class="widget-numbers text-white"><span>£ {{sales_report.overall_summary?.total_revenue}}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-xl-4">
        <div class="card mb-3 widget-content bg-grow-early">
          <div class="widget-content-wrapper text-white">
            <div class="widget-content-left">
              <div class="widget-heading">Total Tips</div>
              <div class="widget-subheading">Overall all orders</div>
            </div>
            <div class="widget-content-right">
              <div class="widget-numbers text-white"><span> £ {{sales_report.overall_summary?.total_tips}}</span></div>
            </div>
          </div>
        </div>
      </div>
      <div class="d-xl-none d-lg-block col-md-6 col-xl-4">
        <div class="card mb-3 widget-content bg-premium-dark">
          <div class="widget-content-wrapper text-white">
            <div class="widget-content-left">
              <div class="widget-heading">Products Sold</div>
              <div class="widget-subheading">Revenue streams</div>
            </div>
            <div class="widget-content-right">
              <div class="widget-numbers text-warning"><span>$14M</span></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12 col-lg-8">
        <div class="mb-3 card">
          <!-- <div class="card-header-tab card-header-tab-animation card-header">
                      <div class="card-header-title">
                          <i class="header-icon lnr-apartment icon-gradient bg-love-kiss"> </i>
                          Net Sales
                      </div>

                  </div> -->
          <div class="card-body">

            <div class="apexbox mb-0" style="position: relative;">
              <div id="chart">
                <app-charts *ngIf="chartReady" [data]="salesChartData" yaxisLabel="Orders" [labels]="salesChartLabels">
                </app-charts>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-12 col-lg-4">
        <div class="main-card mb-3 card">
          <div class="card-body">
            <h5 class="card-title">Top Sales Categories</h5>
            <div class="scroll-area" style="height: 335px;">
              <div class="scrollbar-container ps ps--active-y">
                <ul class="rm-list-borders rm-list-borders-scroll list-group list-group-flush">
                  <li *ngFor="let item of sales_report.category_sales_breakdown" class="list-group-item">
                    <div class="widget-content p-0">
                      <div class="widget-content-wrapper">
                        <div class="widget-content-left mr-3">
                          <img width="42" class="rounded-circle"
                            [src]="item.category_image!=null ? item.category_image : '../../../assets/images/no_image.png'"
                            alt="">
                        </div>
                        <div class="widget-content-left">
                          <div class="widget-heading">{{item.product__category__name}}</div>
                          <div class="widget-subheading">Menu</div>
                        </div>
                        <div class="widget-content-right">
                          <div class="font-size-xlg text-muted">
                            <small class="opacity-5 pr-1">£</small>
                            <span> {{item.overall}}</span>
                            <!-- <small class="text-danger pl-2">
                              <i class="fa fa-angle-down"></i>
                            </small> -->
                          </div>
                        </div>
                      </div>
                    </div>
                  </li>
                </ul>
                <div class="ps__rail-x" style="left: 0px; bottom: 0px;">
                  <div class="ps__thumb-x" tabindex="0" style="left: 0px; width: 0px;"></div>
                </div>
                <div class="ps__rail-y" style="top: 0px; height: 335px; right: 0px;">
                  <div class="ps__thumb-y" tabindex="0" style="top: 0px; height: 245px;"></div>
                </div>
              </div>
            </div>
          </div>
        </div>


      </div>
    </div>

    <div class="row">
      <div class="col-md-8">
        <div class="main-card mb-3 card">
          <div class="card-header">Payment Summary
            <!-- <div class="btn-actions-pane-right">
              <div role="group" class="btn-group-sm btn-group">
                <button class="active btn btn-focus">Received </button>
                <button class="btn btn-focus">Pending</button>
              </div>
            </div> -->
          </div>
          <div class="card-body">
            <mat-form-field style="width: 100%;">
              <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
            </mat-form-field>

            <div class="table-responsive">
              <table mat-table [dataSource]="dataSource" style="width: 100%;">
                <div>
                  <ng-container matColumnDef="image">
                    <th mat-header-cell *matHeaderCellDef> Image </th>
                    <td mat-cell *matCellDef="let element"> <img style="width: 30px; height: 30px;"
                        [src]="element.waiter__user_image!=null ? element.waiter__user_image : '../../../assets/images/no_image.png'" />
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef> Name </th>
                    <td mat-cell *matCellDef="let element"> {{element.waiter__first_name}} {{element.waiter__last_name}}
                    </td>
                  </ng-container>

                  <ng-container matColumnDef="amount">
                    <th mat-header-cell *matHeaderCellDef> Sales </th>
                    <td mat-cell *matCellDef="let element"> {{element.sales}} </td>
                  </ng-container>

                  <ng-container matColumnDef="tip">
                    <th mat-header-cell *matHeaderCellDef> Tip </th>
                    <td mat-cell *matCellDef="let element"> {{element.tip}} </td>
                  </ng-container>

                </div>
                <tr mat-header-row *matHeaderRowDef="table_headers"></tr>
                <tr mat-row *matRowDef="let row; columns: table_headers;"></tr>
              </table>

              <mat-paginator #paginator [pageSize]="10" showFirstLastButtons [pageSizeOptions]="[10,50,100,500]">
              </mat-paginator>
              <!-- <table class="align-middle mb-0 table table-sm table-borderless table-striped table-hover">
                <thead>
                  <tr>
                    <th class="text-center">#</th>
                    <th>Paid by</th>
                    <th class="text-center">Type</th>
                    <th class="text-center">Status</th>
                    <th class="text-center">Amount</th>
                    <th class="text-center">Tip Amount</th>
  
  
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="text-center text-muted">#345</td>
                    <td>
                      <div class="widget-content p-0">
                        <div class="widget-content-wrapper">
                          <div class="widget-content-left mr-3">
                            <div class="widget-content-left">
                              <img width="40" class="rounded-circle" src="assets/images/avatars/4.jpg" alt="">
                            </div>
                          </div>
                          <div class="widget-content-left flex2">
                            <div class="widget-heading">John Doe</div>
                            <div class="widget-subheading opacity-7">Waitor</div>
                          </div>
                        </div>
                      </div>
                    </td>
                    <td class="text-center">
                      <div class="badge badge-warning">Received</div>
                    </td>
                    <td class="text-center">Cash</td>
                    <td class="text-center">750</td>
                    <td class="text-center">50</td>
                  </tr>
                  <tr>
                    <td class="text-center text-muted">#345</td>
                    <td>
                      <div class="widget-content p-0">
                        <div class="widget-content-wrapper">
                          <div class="widget-content-left mr-3">
                            <div class="widget-content-left">
                              <img width="40" class="rounded-circle" src="assets/images/avatars/4.jpg" alt="">
                            </div>
                          </div>
                          <div class="widget-content-left flex2">
                            <div class="widget-heading">John Doe</div>
                            <div class="widget-subheading opacity-7">Waitor</div>
                          </div>
                        </div>
                      </div>
                    </td>
                    <td class="text-center">
                      <div class="badge badge-warning">Received</div>
                    </td>
                    <td class="text-center">Cash</td>
                    <td class="text-center">750</td>
                    <td class="text-center">50</td>
                  </tr>
                  <tr>
                    <td class="text-center text-muted">#345</td>
                    <td>
                      <div class="widget-content p-0">
                        <div class="widget-content-wrapper">
                          <div class="widget-content-left mr-3">
                            <div class="widget-content-left">
                              <img width="40" class="rounded-circle" src="assets/images/avatars/4.jpg" alt="">
                            </div>
                          </div>
                          <div class="widget-content-left flex2">
                            <div class="widget-heading">John Doe</div>
                            <div class="widget-subheading opacity-7">Waitor</div>
                          </div>
                        </div>
                      </div>
                    </td>
                    <td class="text-center">
                      <div class="badge badge-warning">Received</div>
                    </td>
                    <td class="text-center">Cash</td>
                    <td class="text-center">750</td>
                    <td class="text-center">50</td>
                  </tr>
                  <tr>
                    <td class="text-center text-muted">#345</td>
                    <td>
                      <div class="widget-content p-0">
                        <div class="widget-content-wrapper">
                          <div class="widget-content-left mr-3">
                            <div class="widget-content-left">
                              <img width="40" class="rounded-circle" src="assets/images/avatars/4.jpg" alt="">
                            </div>
                          </div>
                          <div class="widget-content-left flex2">
                            <div class="widget-heading">John Doe</div>
                            <div class="widget-subheading opacity-7">Waitor</div>
                          </div>
                        </div>
                      </div>
                    </td>
                    <td class="text-center">
                      <div class="badge badge-warning">Received</div>
                    </td>
                    <td class="text-center">Cash</td>
                    <td class="text-center">750</td>
                    <td class="text-center">50</td>
                  </tr>
                  <tr>
                    <td class="text-center text-muted">#345</td>
                    <td>
                      <div class="widget-content p-0">
                        <div class="widget-content-wrapper">
                          <div class="widget-content-left mr-3">
                            <div class="widget-content-left">
                              <img width="40" class="rounded-circle" src="assets/images/avatars/4.jpg" alt="">
                            </div>
                          </div>
                          <div class="widget-content-left flex2">
                            <div class="widget-heading">John Doe</div>
                            <div class="widget-subheading opacity-7">Waitor</div>
                          </div>
                        </div>
                      </div>
                    </td>
                    <td class="text-center">
                      <div class="badge badge-warning">Received</div>
                    </td>
                    <td class="text-center">Cash</td>
                    <td class="text-center">750</td>
                    <td class="text-center">50</td>
                  </tr>
  
                </tbody>
              </table> -->
            </div>

          </div>

        </div>
      </div>
      <div class="col-md-12 col-lg-4">
        <div class="mb-3 card">
          <div class="card-header-tab card-header-tab-animation card-header">
            <div class="card-header-title">
              <i class="header-icon lnr-apartment icon-gradient bg-love-kiss"> </i>
              Most Running Items
            </div>

          </div>
          <div class="card-body">
            <div class="apexbox mb-0" style="position: relative;">
              <app-doughnut-chart [labels]="doughnutChartLabels" [data]="doughnutChartData"></app-doughnut-chart>
            </div>
          </div>

        </div>
      </div>
    </div>

  </div>




</div>